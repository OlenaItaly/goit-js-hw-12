{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// const BASE_URL = 'https://pixabay.com';\n// const END_POINT = '/api/';\n// const API_KEY = '43059810-21766dfeafea29ca9c24ae0e2';\n\n\n//  export function getImage(q, page) {\n//     const params = {\n//     key: API_KEY,\n//         q: '',\n//     image_type: \"photo\",\n//     page: 1,\n//     per_page: 20,\n//     orientation: 'horizontal',\n//     safesearch: true,\n           \n//     };\n//     const options = new URLSearchParams(params);\n//     return fetch(`${BASE_URL}${END_POINT}?${options}`).then(res => {\n//         if (!res.ok) {\n//            throw new Error(' ERROR!')\n//         }\n//         return res.json()\n//      });\n//   }\n// getImage('cat', 1).then(res => console.log(res));\n// ==============================================\n\nexport function getImage(q) {\n    const BASE_URL= 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const API_KEY = '43059810-21766dfeafea29ca9c24ae0e2';\n     const params = {\n  key: API_KEY,\n    q,\n    image_type: \"photo\",\n    orientation: 'horizontal',\n    safesearch: true,\n    };\n    const options = new URLSearchParams(params);\n    const url=`${BASE_URL}${END_POINT}?${options}`;\n    return fetch(url).then(res => {\n        // if (!res.ok) {\n        //     throw new Error(response.status);\n        // }\n        return res.json();\n    }).catch(error => {\n        throw new Error(response.status)\n    });\n}\n         \n","function imageTemplate(data) {\n  const {\n    largeImageURL,\n    webformatURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = data;\n  return `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            width=\"360\"\n            height=\"200\"\n            class=\"gallery-img\"\n        />\n        <ul class=\"gallery-descript\">\n        <li class=\"gallery-descript__item\"><p class=\"gallery-descript__p\">likes</p> ${likes}</li>\n        <li class=\"gallery-descript__item\"><p class=\"gallery-descript__p\">Views</p> ${views}</li>\n        <li class=\"gallery-descript__item\"><p class=\"gallery-descript__p\">Coments</p> ${comments}</li>\n        <li class=\"gallery-descript__item\"><p class=\"gallery-descript__p\">Dowloads</p> ${downloads}</li>\n     </ul>\n\t</a>\n</li>`;\n}\n\nexport function imagesTemplate(arr) {\n  return arr.map(imageTemplate).join('');\n}","import { getImage} from \"./js/pixabay-api\";\nimport { imagesTemplate } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\n// // Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst form = document.querySelector('.js-search-form');\nconst list = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\nform.addEventListener('submit', handlerSubmit);\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\nfunction handlerSubmit(event) {\n    event.preventDefault()\n    \n     list.innerHTML = '';\n    const searchQuery = event.target['input-search'].value.trim();\n    if (!searchQuery) {\n        iziToast.info({\n            position: \"topRight\",\n            message: \"INPUT SEARCH\"\n        })\n        return\n    }\n   \n    console.log(searchQuery);\n    loaderEl.classList.remove('is-hidden');\n    getImage(searchQuery).then(res => {\n        console.log(res.hits);\n        if (!res.hits.length ) {\n             iziToast.error({\n                position: \"topRight\",\n                 message: \"Sorry, there are no images matching your search query. Please try again!\"\n                \n             });\n             loaderEl.classList.add('is-hidden');\n            return\n        }\n        list.innerHTML = imagesTemplate(res.hits);\n         loaderEl.classList.add('is-hidden');\n        lightbox.refresh();\n    });\n    form.reset();\n}\n\n\n"],"names":["getImage","q","BASE_URL","END_POINT","params","options","url","res","error","imageTemplate","data","largeImageURL","webformatURL","tags","likes","views","comments","downloads","imagesTemplate","arr","form","list","loaderEl","handlerSubmit","lightbox","SimpleLightbox","event","searchQuery","iziToast"],"mappings":"6vBAgCO,SAASA,EAASC,EAAG,CACxB,MAAMC,EAAU,sBACVC,EAAY,QAEXC,EAAS,CAClB,IAFkB,qCAGhB,EAAAH,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACUI,EAAU,IAAI,gBAAgBD,CAAM,EACpCE,EAAI,GAAGJ,CAAQ,GAAGC,CAAS,IAAIE,CAAO,GAC5C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAIZA,EAAI,MACd,EAAE,MAAMC,GAAS,CACd,MAAM,IAAI,MAAM,SAAS,MAAM,CACvC,CAAK,CACL,CCrDA,SAASC,EAAcC,EAAM,CAC3B,KAAM,CACJ,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,iCACwBC,CAAa;AAAA;AAAA,mBAE3BC,CAAY;AAAA,mBACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFAM+DC,CAAK;AAAA,sFACLC,CAAK;AAAA,wFACHC,CAAQ;AAAA,yFACPC,CAAS;AAAA;AAAA;AAAA,MAIlG,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIV,CAAa,EAAE,KAAK,EAAE,CACvC,CCpBA,MAAMW,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAEjDF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,SAASF,EAAcG,EAAO,CAC1BA,EAAM,eAAgB,EAErBL,EAAK,UAAY,GAClB,MAAMM,EAAcD,EAAM,OAAO,cAAc,EAAE,MAAM,OACvD,GAAI,CAACC,EAAa,CACdC,EAAS,KAAK,CACV,SAAU,WACV,QAAS,cACrB,CAAS,EACD,MACH,CAED,QAAQ,IAAID,CAAW,EACvBL,EAAS,UAAU,OAAO,WAAW,EACrCtB,EAAS2B,CAAW,EAAE,KAAKpB,GAAO,CAE9B,GADA,QAAQ,IAAIA,EAAI,IAAI,EAChB,CAACA,EAAI,KAAK,OAAS,CAClBqB,EAAS,MAAM,CACZ,SAAU,WACT,QAAS,0EAE1B,CAAc,EACDN,EAAS,UAAU,IAAI,WAAW,EACnC,MACH,CACDD,EAAK,UAAYH,EAAeX,EAAI,IAAI,EACvCe,EAAS,UAAU,IAAI,WAAW,EACnCE,EAAS,QAAO,CACxB,CAAK,EACDJ,EAAK,MAAK,CACd"}